# テスト配信・段階的リリースガイド

このドキュメントは、アプリのテスト配信から本番リリースまでの段階的な展開戦略をまとめたものです。

## リリースフェーズ概要

```
内部テスト → クローズドテスト → オープンβ → 段階的リリース → 完全リリース
  (1週間)      (2週間)         (2週間)      (1週間)         (継続)
```

---

## フェーズ1: 内部テスト（Internal Testing）

### 目的
- 基本機能の動作確認
- クリティカルなバグの早期発見
- ストア配信フローの確認

### 期間
- 1週間程度

### 対象者
- 開発チームメンバー
- 社内関係者
- 推奨人数: 5-10名

### 配信方法

#### Google Play（内部テスト）
1. Play Consoleにログイン
2. 「テスト」→「内部テスト」を選択
3. テスターリストを作成
   - Googleアカウントのメールアドレスを追加
4. リリースを作成
   - AABファイルをアップロード
   - リリースノートを記入
5. 「審査に送信」をクリック
6. テスターに配信リンクを共有

#### App Store（TestFlight）
1. App Store Connectにログイン
2. 「TestFlight」タブを選択
3. 内部テスターグループを作成
   - App Store Connect アカウントを持つユーザーのみ
   - 最大100名まで
4. ビルドをアップロード（Xcode or Fastlane）
5. テスターを招待
6. 自動配信開始（審査不要）

### テスト項目
- [ ] アプリ起動
- [ ] 認証フロー（Google/Apple/Email）
- [ ] クエスト作成・編集・削除
- [ ] 進捗記録
- [ ] 統計画面表示
- [ ] プッシュ通知
- [ ] ペア機能
- [ ] データエクスポート
- [ ] アカウント削除

### 成功基準
- クリティカルバグ: 0件
- メジャーバグ: 2件以下
- クラッシュ率: 0.1%以下
- 全テスト項目が完了

---

## フェーズ2: クローズドテスト（Closed Testing）

### 目的
- 実際のユーザー環境での動作確認
- UXの問題点の洗い出し
- パフォーマンスの検証

### 期間
- 2週間程度

### 対象者
- 信頼できる外部ユーザー
- アーリーアダプター
- 推奨人数: 50-100名

### 配信方法

#### Google Play（クローズドテスト）
1. 「テスト」→「クローズドテスト」を選択
2. トラックを作成（例: "alpha"）
3. テスターリストを作成
   - メールアドレスリスト
   - または Google グループ
4. リリースを作成
5. 「審査に送信」をクリック
6. 承認後、テスターに招待メールが送信される

#### App Store（TestFlight外部テスト）
1. 「TestFlight」→「外部テスト」を選択
2. グループを作成
3. ビルドを選択
4. テスターを招待（メールアドレス）
5. Appleの審査を待つ（通常1-2日）
6. 承認後、テスターに招待メールが送信される

### テスト項目
- [ ] 多様なデバイスでの動作確認
- [ ] ネットワーク環境の違い（Wi-Fi/4G/5G）
- [ ] 長期使用での安定性
- [ ] バッテリー消費
- [ ] データ同期の正確性
- [ ] 通知の適切なタイミング
- [ ] オフライン動作
- [ ] 機種変更時のデータ移行

### フィードバック収集方法
1. **アプリ内フィードバック機能**
   - バグ報告フォーム
   - スクリーンショット添付

2. **アンケート**
   - Google Forms
   - 使いやすさ評価（1-5点）
   - 改善要望の自由記述

3. **定期ミーティング**
   - 週1回のフィードバックセッション
   - Zoom/Google Meetで実施

### 成功基準
- クリティカルバグ: 0件
- メジャーバグ: 5件以下
- クラッシュ率: 0.5%以下
- ユーザー満足度: 4.0/5.0以上
- 主要機能の完了率: 80%以上

---

## フェーズ3: オープンβ（Open Beta）

### 目的
- 大規模ユーザーでの負荷テスト
- 最終的なバグ修正
- ストアレビューの獲得
- マーケティング効果の測定

### 期間
- 2週間程度

### 対象者
- 一般ユーザー（誰でも参加可能）
- 目標人数: 500-1000名

### 配信方法

#### Google Play（オープンテスト）
1. 「テスト」→「オープンテスト」を選択
2. リリースを作成
3. 国/地域を選択（日本のみ or グローバル）
4. 「審査に送信」をクリック
5. 承認後、Play Storeで公開される
   - ストアページに「早期アクセス」バッジが表示
   - 誰でもダウンロード可能

#### App Store（TestFlight公開リンク）
1. 「TestFlight」→「外部テスト」
2. 「公開リンクを有効にする」をオン
3. リンクをSNS/Webサイトで共有
4. 最大10,000名まで参加可能

### プロモーション戦略
1. **SNS告知**
   - Twitter/X
   - Instagram
   - Facebook
   - Reddit（r/productivity, r/habits）

2. **コミュニティ**
   - Product Hunt
   - Indie Hackers
   - Hacker News

3. **プレスリリース**
   - TechCrunch
   - The Verge
   - 日本のテックメディア

4. **インフルエンサー**
   - 生産性系YouTuber
   - ライフハック系ブロガー

### モニタリング指標
- **ユーザー獲得**
  - 日次ダウンロード数
  - 登録完了率
  - オンボーディング完了率

- **エンゲージメント**
  - DAU/MAU比率
  - セッション時間
  - クエスト作成数
  - 達成率

- **技術指標**
  - クラッシュ率
  - ANR（Application Not Responding）率
  - API レスポンス時間
  - Firestore 読み書き回数

- **ユーザーフィードバック**
  - ストアレビュー評価
  - バグレポート数
  - サポート問い合わせ数

### 成功基準
- クリティカルバグ: 0件
- クラッシュ率: 1.0%以下
- ストア評価: 4.0以上
- 1日あたりのアクティブユーザー: 100名以上
- オンボーディング完了率: 60%以上

---

## フェーズ4: 段階的リリース（Staged Rollout）

### 目的
- 本番環境での最終確認
- 問題発生時の影響を最小化
- サーバー負荷の段階的増加

### 期間
- 1週間程度

### 配信方法

#### Google Play（段階的公開）
1. 「本番環境」トラックを選択
2. リリースを作成
3. 「段階的公開」を選択
4. 公開割合を設定
   - Day 1: 5%
   - Day 2: 10%
   - Day 3: 20%
   - Day 4: 50%
   - Day 5: 100%
5. 各段階で24時間モニタリング
6. 問題なければ次の段階へ

#### App Store（段階的リリース）
1. App Store Connectで「段階的リリース」を有効化
2. 自動的に7日間かけて100%に到達
3. 手動で加速/停止も可能

### モニタリング（24時間体制）
- **リアルタイム監視**
  - Firebase Crashlytics
  - Sentry
  - Google Analytics

- **アラート設定**
  - クラッシュ率 > 2%
  - ANR率 > 1%
  - API エラー率 > 5%
  - ユーザーからの問い合わせ急増

### ロールバック基準
以下のいずれかに該当する場合、即座にロールバック：
- クリティカルバグの発見
- クラッシュ率 > 3%
- ストア評価が急落（0.5以上下落）
- データ損失の報告
- セキュリティ脆弱性の発見

### ロールバック手順
1. Play Console/App Store Connectで公開を停止
2. 前バージョンを再公開
3. ユーザーに謝罪とアップデート案内
4. 問題を修正して再テスト

---

## フェーズ5: 完全リリース（Full Release）

### 目的
- 全ユーザーへの配信
- 継続的な改善

### 配信方法
- Google Play: 100%公開
- App Store: 全ユーザーに配信

### リリース後の運用

#### 日次チェック（最初の1週間）
- [ ] クラッシュレポート確認
- [ ] ストアレビュー確認・返信
- [ ] ユーザーサポート対応
- [ ] アナリティクス確認

#### 週次チェック
- [ ] KPI レビュー
- [ ] バグ修正の優先順位付け
- [ ] 新機能の計画
- [ ] A/Bテスト結果分析

#### 月次チェック
- [ ] ユーザー成長率分析
- [ ] 収益分析（広告/課金）
- [ ] ロードマップ更新
- [ ] 競合分析

---

## テスター募集テンプレート

### SNS投稿（日本語）
```
🎉 MiniQ β版テスター募集！

習慣を楽しく継続できるアプリ「MiniQ」のβ版テスターを募集しています。

✨ 特典
• 新機能を誰よりも早く体験
• 開発チームに直接フィードバック
• 正式版リリース時に特別バッジ

📱 参加方法
1. このリンクからダウンロード: [URL]
2. アプリを使ってみる
3. フィードバックを送る

#MiniQ #習慣化 #アプリ開発 #βテスター募集
```

### SNS投稿（英語）
```
🎉 MiniQ Beta Testers Wanted!

We're looking for beta testers for MiniQ, a habit tracking app that makes building routines fun and social.

✨ Benefits
• Early access to new features
• Direct feedback to dev team
• Special badge at launch

📱 How to Join
1. Download via this link: [URL]
2. Try out the app
3. Share your feedback

#MiniQ #HabitTracker #BetaTesting #AppDevelopment
```

---

## フィードバックフォーム

### 必須項目
- デバイス情報（自動取得）
- OS バージョン（自動取得）
- アプリバージョン（自動取得）
- 問題の種類（バグ/改善要望/質問）
- 詳細説明
- スクリーンショット（オプション）

### 質問例
1. アプリの使いやすさを5段階で評価してください
2. 最も気に入った機能は何ですか？
3. 改善してほしい点はありますか？
4. 友達に勧めたいと思いますか？（NPS）
5. その他のコメント

---

## トラブルシューティング

### よくある問題と対処法

#### 1. テスターがアプリをダウンロードできない
- **原因**: 招待メールが届いていない
- **対処**: スパムフォルダを確認、再送信

#### 2. クラッシュが多発
- **原因**: 特定デバイス/OSバージョンの互換性問題
- **対処**: 該当デバイスでのテスト強化、修正版リリース

#### 3. 通知が届かない
- **原因**: 通知権限の未許可、FCMトークンの問題
- **対処**: 権限確認フロー改善、トークン再取得ロジック追加

#### 4. データ同期の遅延
- **原因**: Firestore のインデックス不足、ネットワーク問題
- **対処**: インデックス追加、オフライン対応強化

---

## チェックリスト

### リリース前
- [ ] すべてのテストフェーズを完了
- [ ] クリティカルバグがゼロ
- [ ] ストアメタデータ準備完了
- [ ] スクリーンショット準備完了
- [ ] プロモーション動画準備完了
- [ ] プライバシーポリシー公開
- [ ] 利用規約公開
- [ ] サポートメール設定
- [ ] ヘルプセンター準備
- [ ] 監視ツール設定完了
- [ ] アラート設定完了
- [ ] ロールバック手順確認

### リリース後
- [ ] ストアページ公開確認
- [ ] ダウンロード可能確認
- [ ] プッシュ通知動作確認
- [ ] 決済機能動作確認（課金がある場合）
- [ ] SNSで告知
- [ ] プレスリリース配信
- [ ] 監視ダッシュボード確認

---

## 連絡先

### 開発チーム
- Email: dev@minq.app
- Slack: #minq-beta

### ユーザーサポート
- Email: support@minq.app
- アプリ内ヘルプセンター

---

## 更新履歴

- 2025-10-02: 初版作成
