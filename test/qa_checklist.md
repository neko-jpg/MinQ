# QA Checklist - MiniQuest

## 端末サイズテスト

### 小型端末 (320x568 - iPhone SE)
- [ ] ホーム画面が正しく表示される
- [ ] クエスト作成フォームがスクロール可能
- [ ] ボタンが48dp以上のタップ領域を持つ
- [ ] テキストが切れずに表示される
- [ ] キーボード表示時にコンテンツが隠れない

### 中型端末 (375x667 - iPhone 8, 390x844 - iPhone 12)
- [ ] すべての画面が適切にレイアウトされる
- [ ] カードが適切な余白を持つ
- [ ] グラフが読みやすい
- [ ] ナビゲーションが使いやすい

### 大型端末 (414x896 - iPhone 11 Pro Max, 428x926 - iPhone 13 Pro Max)
- [ ] 余白が適切に配分される
- [ ] コンテンツが中央寄せまたは適切に配置される
- [ ] 画像が引き伸ばされていない

### タブレット (768x1024 - iPad, 1024x1366 - iPad Pro)
- [ ] レイアウトがタブレットに最適化されている
- [ ] 横向きでも正しく表示される
- [ ] 余白が過度に大きくない

### 折りたたみ端末
- [ ] 折りたたみ時に正しく表示される
- [ ] 展開時にレイアウトが適応する
- [ ] 画面遷移がスムーズ

## ダークモード・ライトモードテスト

### ライトモード
- [ ] すべてのテキストが読みやすい
- [ ] カード背景が適切
- [ ] ボタンのコントラストが十分
- [ ] アイコンが見やすい
- [ ] グラフの色が適切

### ダークモード
- [ ] すべてのテキストが読みやすい
- [ ] カード背景が tokens.surface (RGB 61,68,77) に統一
- [ ] ボタンのコントラストが十分
- [ ] アイコンが見やすい
- [ ] グラフの色が適切
- [ ] 目に優しい配色

### モード切替
- [ ] 即座に切り替わる（再起動不要）
- [ ] すべての画面で一貫性がある
- [ ] アニメーションがスムーズ

## オフライン動作テスト

### 完全オフライン
- [ ] アプリが起動する
- [ ] ローカルデータが表示される
- [ ] クエスト作成が可能
- [ ] 進捗記録が可能
- [ ] 適切なオフライン表示

### 接続復帰時
- [ ] 自動的に同期される
- [ ] データの競合が適切に処理される
- [ ] ユーザーに同期状態が通知される

### 低速接続
- [ ] タイムアウトが適切に処理される
- [ ] ローディング表示が適切
- [ ] リトライ機能が動作する

## 認証フローテスト

### 初回起動
- [ ] オンボーディングが表示される
- [ ] ログイン画面に遷移できる
- [ ] Google認証が動作する
- [ ] Apple認証が動作する
- [ ] Email認証が動作する

### ログイン失敗
- [ ] エラーメッセージが表示される
- [ ] 再試行が可能
- [ ] 適切なエラーハンドリング

### ログアウト
- [ ] 確認ダイアログが表示される
- [ ] ローカルデータがクリアされる
- [ ] ログイン画面に戻る

## クエスト機能テスト

### 作成
- [ ] タイトル入力が動作する
- [ ] 説明入力が動作する
- [ ] リマインダー設定が動作する
- [ ] 保存が成功する
- [ ] バリデーションが動作する

### 編集
- [ ] 既存データが表示される
- [ ] 変更が保存される
- [ ] キャンセルが動作する

### 削除
- [ ] 確認ダイアログが表示される
- [ ] 削除が成功する
- [ ] 関連ログも削除される

### 並び替え
- [ ] ドラッグ&ドロップが動作する
- [ ] 順序が保存される

## 進捗ログテスト

### 記録
- [ ] チェックボックスが動作する
- [ ] 即座に反映される
- [ ] Firestoreに保存される

### 取り消し
- [ ] 取り消しが可能
- [ ] 即座に反映される

### 日跨ぎ
- [ ] 日付が正しく処理される
- [ ] タイムゾーンが考慮される
- [ ] 0時跨ぎが正しく動作する

## 統計画面テスト

### 表示
- [ ] 連続日数が正しい
- [ ] 7日達成率が正しい
- [ ] 当日完了数が正しい
- [ ] グラフが正しく描画される

### 空状態
- [ ] 0件時に行動喚起カードが表示される
- [ ] 適切なメッセージが表示される

## ペア機能テスト

### マッチング
- [ ] ペア検索が動作する
- [ ] マッチングが成功する
- [ ] 祝アニメーションが表示される

### 通報・ブロック
- [ ] 通報が可能
- [ ] ブロックが可能
- [ ] NGワードフィルタが動作する

## 通知テスト

### リマインダー
- [ ] 設定時刻に通知される
- [ ] 通知タップで画面遷移する
- [ ] 複数通知が動作する

### 許可
- [ ] 初回許可リクエストが表示される
- [ ] 拒否時の代替案が提示される

## アクセシビリティテスト

### スクリーンリーダー
- [ ] すべての要素にSemantics設定
- [ ] 読み上げ順序が適切
- [ ] ボタンの説明が適切

### タップ領域
- [ ] すべてのボタンが48dp以上
- [ ] タップしやすい配置

### テキストスケール
- [ ] 1.0倍で正常表示
- [ ] 1.3倍で正常表示
- [ ] 2.0倍でも崩れない

## パフォーマンステスト

### 起動時間
- [ ] 初回起動が3秒以内
- [ ] 2回目以降が1秒以内

### スクロール
- [ ] 60fps維持
- [ ] ジャンクなし

### メモリ
- [ ] メモリリークなし
- [ ] 適切なメモリ使用量

## 戻るボタンテスト

### iOS
- [ ] 左上の戻るボタンが動作する
- [ ] スワイプバックが動作する

### Android
- [ ] システム戻るボタンが動作する
- [ ] 適切な画面に戻る
- [ ] ダイアログが閉じる

## エラーハンドリングテスト

### ネットワークエラー
- [ ] 適切なエラーメッセージ
- [ ] リトライオプション

### 認証エラー
- [ ] 再ログイン促進
- [ ] セッション管理

### データエラー
- [ ] データ復旧オプション
- [ ] ユーザーへの説明

## 多言語テスト

### 日本語
- [ ] すべてのテキストが日本語
- [ ] 文字化けなし
- [ ] 適切な改行

### 英語
- [ ] すべてのテキストが英語
- [ ] 文字化けなし
- [ ] 適切な改行

## セキュリティテスト

### データ保護
- [ ] 認証が必要な操作が保護されている
- [ ] 他ユーザーのデータにアクセスできない

### 入力検証
- [ ] SQLインジェクション対策
- [ ] XSS対策
- [ ] 不正な入力の拒否

## リグレッションテスト

### 既存機能
- [ ] すべての既存機能が動作する
- [ ] パフォーマンスが劣化していない
- [ ] UIが崩れていない

### 新機能
- [ ] 新機能が既存機能に影響していない
- [ ] 統合が適切
