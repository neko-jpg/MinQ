A. ホーム画面
[ ] 1. レイアウトの最適化

[x] 下部の重なり解消: ListViewのpadding.bottomにボトムナビゲーションの高さとSafeAreaの値を加算する（ゲスト・ログイン時共通）。

[ ] 進捗カードのレスポンシブ対応: LayoutBuilderを使い、画面幅に応じて1列（フル幅）または2列グリッドにレイアウトを切り替える。

[ ] 余白の統一: 行間やカード内部の余白を、定義済みのデザイントークン（例: 8dp, 12dp, 16dp）に統一する。

[ ] 2. UXの改善

[ ]各画面におけるAI機能をデモ実装ではなく本実装に入り、ユーザエクスペリエンスを向上させる目玉機能の一つとして、動く機能にする

[×] 「今日のフォーカス」の導線変更: タップ時の遷移先をクエスト一覧ではなく、クエスト詳細画面または記録画面へ直接遷移するように修正する。

[ ] 今日のフォーカスに関して「今日のフォーカス」の導線変更: タップ時の遷移先をクエスト一覧ではなく、クエスト詳細画面または記録画面へ直接遷移するように修正するからは変更し独立した機能として過去の進捗状況から、AIが判断して、提案してくれる機能とする。なおAI機能が作成されていない場合には作成する。

[ ] 各状態のUI実装: ホーム画面に空（Empty）・読み込み中（Loading）・エラー（Error）・オフラインの4状態に対応するUIを実装し、特に空の状態では次のアクションを提案する表示を行う。

B. クエスト一覧・検索・編集
[ ] 1. 検索機能の実装

[x] TextFieldのonChangedイベントを実装し、入力値を状態（State）に反映させる。

[x] 検索語（trimで空白除去・大小文字無視）でクエストのtitleまたはtagsをフィルタリングする。

[x] デバウンス処理: 0.25秒程度の入力待ち時間を設け、過剰なリスト更新を防ぐ。

[x] 0件時のUI: 検索結果が0件の場合に、ヒントやAIおすすめなどを表示するフォールバックUIを実装する。

[ ] 2. UIのクリーンアップ

[x] 「AIおすすめ」の表示修正: ラベルの色を常にtextPrimaryに統一し、エラーが発生した場合はラベルとは別の行にencouragement等の色で控えめにメッセージを表示する。

[ ] デバッグ表示の削除: 開発中に使用していたサイズ表記などのUIは、assertブロックで囲み、リリースビルドには含まれないようにする。

[x] 編集画面のアイコン改善: カテゴリ選択などのアイコンを、色だけでなくシルエットで識別可能なものに差し替える。選択中の項目は背景色や枠線で視覚的に強調する。

[ ] 真っ黒ボタンの廃止: 「次へ」などのボタンをテーマに準拠させ、Primary（ブランド色）、Secondary（アウトライン）などのスタイルに統一する。

C. 設定・プロフィール・データ関連
[ ] 1. 画面遷移の実装

[x] 設定画面に**「プロフィール」**への遷移タイルを追加し、goToProfile()を呼び出すようにする。

[ ] 2. 機能の実装

[x] データエクスポート: 「データをエクスポートする」ボタンのonTapを実装し、DataExportServiceを呼び出してデータをZip化し、共有シートを開く。成功時・失敗時にはトーストでフィードバックを表示する。

[ ] 利用規約/プライバシーポリシー: リンクをタップした際に、オフラインでも閲覧可能な同梱ドキュメント（Markdown/HTML）をPolicyViewerで開くように修正する。

[ ] 3. 未実装機能の表示

[ ] デモや未実装の機能は、非表示にするか、「準備中」ラベルを付けてタップできないようにし、ユーザーに誤解を与えないようにする。

D. ログイン・ウェルカム・クラッシュ復旧
[ ] 1. UI/UXの改善

[x] 復元画面のコントラスト: ボタンを縦積みにし、主要アクション（復元）をFilledButton、副次アクション（破棄）をOutlinedButtonにするなど、視覚的な優先度を明確にする。

[x] 技術メッセージの非表示: クラッシュ復元画面に表示される技術的なエラーメッセージは、デフォルトで折りたたみ、「詳細を表示」をタップした場合のみ表示されるようにする。

[ ] ウェルカム画面の戻る導線: ログイン画面やオンボーディング画面からpushで遷移させ、画面左上に明示的な戻るボタンを設置する。

E. 横断的課題（アプリ全体）

[ ] トークンへの移行: コード内のすべての直書きされた色（例: Colors.black）を、定義済みのデザイントークン（tokens.brandPrimaryなど）に置き換える。

[ ] 役割色のルール統一: Primary（行動喚起）、Surface（背景・カード）、Border（境界線）といった色の役割を明確にする。

[ ] ライト/ダークモード対応: ダークテーマではカードに枠線を使用し、ライトテーマでは浅い影を使用するなど、テーマごとの表現を統一する。

[ ] コントラストの自動チェック: CI（継続的インテグレーション）に、WCAG AA基準（4.5:1）を満たしているかチェックするスクリプトを組み込む。

[ ] 2. ナビゲーションと "戻る" 挙動 ↩️

[ ] 遷移規約の徹底: 階層を深くする遷移はpush、タブ切替やルートの置き換えはgoを使用するルールを全画面で統一する。

[ ] PopScopeの網羅的実装: フォーム入力画面、記録画面など、ユーザーがデータを失う可能性のあるすべての画面をPopScopeで囲み、未保存ガード（確認ダイアログ）を実装する。

[ ] 戻るボタンの動作統一: Androidのシステムバックボタンと画面左上の戻るボタンが、どの画面・どの遷移経路からでも一貫した動作をするように修正・テストする。

[ ] フリーズ対策: record_screenの閉じるボタンなど、pop()が効かない場合にgo(Home)で安全な場所へ遷移するフォールバック処理を実装する。

[ ]  テーマ・配色 🎨をcolor.mdで指定されている通りにする。

[ ] 3. その他機能

[ ] リマインダーの複数設定: 複数の通知時刻を追加・削除・ON/OFFできるUIを実装し、保存時にMultipleReminderServiceを呼び出すようにする。

[ ] ストリーク表示の改善: 意味が不明な"薄い線"を廃止し、「実績あり＝ドット」「実績なし＝アウトライン」など、直感的に理解できる表現に統一する。初回表示時には凡例やツールチップで説明を行う。
